---
layout: doc
categories: docs
publish_date: 2022-07-17
---

# Using KeePass as TOTP keys storage and OTP generator with Microsoft and Google accounts
<br/>
<br/>
<br/>

In this page:
- TOTP, OTP and authenticator introduction
- General use of KeePass as TOTP key storage and OTP generator
- Cases: Microsoft and Google accounts

 

People normally prefer using classic authenticator applications, running on mobile phone, like Microsoft Authenticator and Google Authenticator. They are easy to be setup: scanning a data-matrix is enough to import required data and to be ready to generate one-time-passwords, OTP. But sometimes could be useful to have a second OTP generator, alongside the classic authenticator app on mobile. KeePass can help. It was born as a secure password storage but can also securely store other information. Starting from the version 2.51, it is even more easier storing TOTP keys and generating one-time-passwords.

Authenticator are based on TOTP protocol. Many (all?) account providers use it, like Microsoft and Google, in the 2-steps/multi-factor-authentication services. TOTP works by sharing a secret key between the authentication provider and the OTP generator (the authenticator app). Secret key and other information are normally imported by scanning a datamatrix, generated by the authentication provider. The datamatrix holds much information but the really relevant one is the secret key.

Example of data stored into the datamatrix: 
```
otpauth://totp/Google:accountname@gmail.com?secret=xxxxxxxx&issuer=Google
otpauth://totp/Microsoft:accountname@live.com?secret=xxxxxxxx&issuer=Microsoft
```

<myimage><img src="1.jpg" width="150px"></myimage>


Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras porta mi non massa sodales viverra. Aenean sodales eu lacus vel aliquet. Cras quis est molestie, euismod ex vel, gravida nulla. Nulla facilisi. Sed lacus massa, pharetra vitae rutrum non, porta ut augue. In at tortor mauris. Morbi eu tincidunt risus. Mauris volutpat nisi sed dui consectetur, vitae semper velit ultricies. Donec ac lectus leo. Vivamus et diam in dui ultricies rutrum. Nullam congue a nisl a finibus. Proin eu arcu porttitor, luctus nisl ac, scelerisque risus. Etiam ante velit, convallis at pellentesque quis, convallis finibus velit. Phasellus fermentum, enim ac commodo imperdiet, metus est semper est, vitae tempus est felis a nunc. Sed pellentesque, dolor eu condimentum convallis, libero magna mattis mauris, at facilisis lectus nisl vitae lorem.